<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="quiz.css">
    <title>Document</title>
</head>
<body>
    
    <div class="container">
        <div class="quiz">
            <div class="Q1Container">
                <div><span class="currentQ">1</span>/9</div>
                <div class="question1">How do you beheave at a party?</div>
                        <div class="responses">
                            <button class="A1">I'm the life of the party</button>
                            <button class="B1">I just sit in the corner...</button>
                            <button class="C1">I try to socialize and make new friends</button>
                        </div>
            </div>
            </div>
            <button class="resultBtn"><h2>Result</h2></button>
            <svg id="cut-circ" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="23" stroke="black" fill="none" />
              </svg>
            <div class="resultContainer">
                <div class="result">
                    <header>
                        <h1></h1>
                        <h2></h2>
                    </header>
                    <div class="text">
                        <p></p>
                    </div>
                </div>
                
            </div>
          
   
            
    </div>

</div>
<script>

/*QUESTIONS AND ANSWERS*/
const q1 = [
{
    Qnumber : 2,
    question : "What's your favorite quote?",
    answerA : "From blood and pain come perfection",
    answerB : "You can't get power by giving it away. You have to take it yourself.",
    answerC : "I am perfection",
        
},

 {
    Qnumber : 3,
    question : "What infuriates you the most?",
    answerA : "When my needs aren't being met",
    answerB : "Betrayal",
    answerC : "Reject"
},
{
    Qnumber : 4,
    question : "Would you do anything to get what you want?",
    answerA : "Yes",
    answerB : "No",
    answerC : "Maybe"
},
{
    Qnumber : 5,
    question : "Pick one color",
    answerA : "Black",
    answerB : "Blue",
    answerC : "Red"
},
{
    Qnumber : 6,
    question : "Where do you prefer to spend your time ?",
    answerA : "In nice, luxurious surroundings",
    answerB : "In the wilderness",
    answerC : "in the basement"
},
{
    Qnumber : 7,
    question : "Choose one murder weapon",
    answerA : "Knife",
    answerB : "Gun",
    answerC : "My hands"
},
{
    Qnumber : 8,
    question : "If someone cheats on you, what do you do ?",
    answerA : "Kill them",
    answerB : "Pretend nothing happened while plotting your revenge",
    answerC : "Why would anyone ever cheat on me ??"
},
 {
    Qnumber : 9,
    question : "Whats the most important thing to you?",
    answerA : "Money",
    answerB : "Power",
    answerC : "Having everyhting I want"
}]
 //RESULTS TEXT
 const result = [
{
    characterName: "Madison Montgomery",
    season: "FROM SEASON 3 (COVEN)",
    text : " You are sarcastic, manipulative, and egotistical. On rare occasions, you displays remorse for yout actions or pity for the unfortunate, but usually it is later discovered that you “opening up” was just a ploy for your own gain. If there's any humanity, it is buried deep."
},
{
    characterName: "Kai Anderson",
    season: "FROM SEASON 7 (CULT)",
    text: "You are power hungry, unhinged and aggressive. You are able to use his charisma and intelligence to manipulate people. You want to destroy the world, believing that destruction is the only way it can be rebuilt on your image. You believes strength, power and chaos are really important."
}, 
{  
    characterName: "Dandy Mott",
    season: "FROM SEASON 4 (FREAK SHOW)",
    text: "You may be physically beautiful, but it is in no way reflected by your personality, and metaphorically, you are the most rotten apple of your family tree. You are emotionally and psychologically disturbed, along with being a scion who finds passion in violence"
}
 ]

let list = q1 ;
function randomList() {

let currentIndex = list.length 
let randomIndex;

     while (currentIndex != 0) {

    randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex--;

      [list[currentIndex], list[randomIndex]] = [
      list[randomIndex], list[currentIndex]];
     }
    } 



//RANDOM QUESTIONS
let questionsNumber = [2,3,4,5,6,7,8,9]
var j = -1
var i = -1

randomList()

document.querySelectorAll(".Q1Container button").forEach(el => el.addEventListener("click",() => {
   if(i < q1.length ) {
    i = i + 1
        document.querySelector(".question1").innerHTML = q1[i].question
        let answers = [q1[i].answerA,q1[i].answerB,q1[i].answerC]
        function randomAnswers () {
            let currentIndex = answers.length 
            let randomIndex;
            while (currentIndex != 0) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            [answers[currentIndex], answers[randomIndex]] = [
            answers[randomIndex],answers[currentIndex]];
            }
        }
        randomAnswers()
        console.log(answers)
            document.querySelector(".A1").innerHTML = answers[0]
            document.querySelector(".B1").innerHTML = answers[1]
            document.querySelector(".C1").innerHTML = answers[2]
        if(i == 7) {
                document.querySelectorAll(".Q1Container button").forEach(el => el.addEventListener("click",() => { 
                document.querySelector(".Q1Container").style.display = "none"
                document.querySelector(".resultBtn").style.display = "flex"
                }))
            }
            slideRigth()
            currentQuestion()
            
        }    
}))

//CURRENT QUESTION

function currentQuestion (){
    if(j < questionsNumber.length) {
        j = j + 1
        let number = document.querySelector(".currentQ")
        number.innerHTML = questionsNumber[j]
        slideLeft()
    }

}
setInterval(slideRigth,100) 

//MOVEMENT   
const buttonA = document.querySelector(".A1")
const buttonB = document.querySelector(".B1")
const buttonC = document.querySelector(".C1")
const questions = document.querySelector(".question1")

function slideLeft() {
        buttonA.style.cssText = "transform:translate(7%);color:transparent;background-color:transparent"
        buttonB.style.cssText = "transform:translate(5%);color:transparent;background-color:transparent"
        buttonC.style.cssText = "transform:translate(3%);color:transparent;background-color:transparent" 
        questions.style.cssText = "color:#7e99f3;"
}
function slideRigth() {
        buttonA.style.cssText = "transform:translate(0%);transition:1s;color:black;background-color:white"
        buttonB.style.cssText = "transform:translate(0%);transition:1s;color:black;background-color:white"
        buttonC.style.cssText = "transform:translate(0%);transition:1s;color:black;background-color:white"
        questions.style.cssText = "color:grey;transition:2s;"
       
}


//RESULT

var counterA = 0 
var counterB = 0
var counterC = 0

document.querySelector(".A1").addEventListener("click", () => {
    console.log(q1[i].answerA)
    if(document.querySelector(".A1").innerHTML == q1[i].answerA) {
        counterA++ 
    }
    else if(document.querySelector(".B1").innerHTML == q1[i].answerA) {
        console.log("oi")
        counterA++ 
    }
    else if(document.querySelector(".C1").innerHTML == q1[i].answerA) {
        console.log("oi")
        counterA++ 
    }

    
})

document.querySelector(".B1").addEventListener("click", () => {
    console.log(q1[i].answerB)
    if(document.querySelector(".A1").innerHTML == q1[i].answerB) {
        counterB++ 
    }
    else if(document.querySelector(".B1").innerHTML == q1[i].answerB) {
        console.log("oi")
        counterB++ 
    }
    else if(document.querySelector(".C1").innerHTML == q1[i].answerB) {
        console.log("oi")
        counterB++ 
    }
    
})
document.querySelector(".C1").addEventListener("click", () => {
    console.log(q1[i].answerC)
    if(document.querySelector(".A1").innerHTML == q1[i].answerC) {
        counterC++ 
    }
    else if(document.querySelector(".B1").innerHTML == q1[i].answerC) {
        console.log("oi")
        counterC++ 
    }
    else if(document.querySelector(".C1").innerHTML == q1[i].answerC) {
        console.log("oi")
        counterC++ 
    }
     
})
const btnM = document.querySelector("#cut-circ")
const keyFrames = document.createElement("style");
keyFrames.innerHTML = `
  @keyframes loading {
    from {
      transform: rotate(20deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
  #cut-circ {
    animation: loading 1s ease-in-out infinite;
  }

 `;

document.querySelector(".resultBtn").addEventListener("click",() =>{
   document.querySelector("#cut-circ").style.display = "flex"
    document.querySelector("#cut-circ").appendChild(keyFrames)
   document.querySelector(".resultBtn").style.display = "none"
   setTimeout(function() {
    document.querySelector("#cut-circ").style.display = "none"
    document.querySelector(".resultContainer").style.display = "flex"
    document.querySelector(".resultBtn").style.display = "none"
    },5000)
    if (counterA > 4) {
        document.querySelector(".result h1").innerHTML = result[0].characterName
        document.querySelector(".result h2").innerHTML = result[0].season
        document.querySelector(".text").innerHTML = result[0].text
    }
    else if (counterB > 4) {
        document.querySelector(".result h1").innerHTML = result[1].characterName
        document.querySelector(".result h2").innerHTML = result[1].season
        document.querySelector(".text").innerHTML = result[1].text
    }
    else if (counterC > 4) {
        document.querySelector(".result h1").innerHTML = result[2].characterName
        document.querySelector(".result h2").innerHTML = result[2].season
        document.querySelector(".text").innerHTML = result[2].text
    }
    else {
        let randomResult = Math.floor(Math.random()* result.length)
        console.log(result[randomResult])
        document.querySelector(".result h1").innerHTML = result[randomResult].characterName
        document.querySelector("header h2").innerHTML = result[randomResult].season
        document.querySelector(".text").innerHTML = result[randomResult].text
        
    }
})
    
</script>

